<template>
  <main class="container-fluid p-0">
    <div class="row align-items-center justify-content-center vh-100">
      <div class="col-12 col-md-6 text-black vh-100 d-none d-lg-block">
        <img
          src="https://res.cloudinary.com/dnfccnxew/image/upload/v1725710674/aepjhdbiizkukw60fhuf.png"
          alt="Logo WMS"
          class="w-100 h-100"
        />
      </div>
      <div
        class="col-12 col-md-6 d-flex flex-column justify-content-center align-items-center text-black"
      >
        <!-- Logo and Title -->
        <div class="text-center mb-4">
          <img
            src="https://res.cloudinary.com/dc1txyr7b/image/upload/v1724138470/th78gsygvjv2wm7zbwh7.png"
            alt="Logo"
            style="width: 60px; height: 60px"
          />
        </div>
        <!-- Form -->
        <div class="container d-flex justify-content-center">
          <div>
            <h2 class="text-center mb-1 fw-bold">CH√ÄO M·ª™NG TR·ªû L·∫†I</h2>
            <h6 class="text-center mb-5">Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ ti·∫øp t·ª•c</h6>
            <form style="width: 23rem">
              <!-- Username input -->
              <div class="form-floating mb-2">
                <input type="text" id="username" class="form-control" placeholder="1" required />
                <label class="form-label" for="username" style="font-size: 14px"
                  >T√™n ng∆∞·ªùi d√πng</label
                >
              </div>
              <!-- Password input -->
              <div class="form-floating mb-2">
                <input
                  type="password"
                  id="password"
                  class="form-control"
                  placeholder="1"
                  required
                />
                <label class="form-label" for="password" style="font-size: 14px">M·∫≠t kh·∫©u</label>
              </div>
              <div class="mb-2 text-end">
                <router-link to="/quen-mat-khau" class="forgot"> Qu√™n m·∫≠t kh·∫©u? </router-link>
              </div>
              <!-- Submit button -->
              <button class="btn btn-login text-dark w-100" @click="login">ƒêƒÉng nh·∫≠p</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>
</template>

<script setup>
import { useRouter } from "vue-router";
import Swal from "sweetalert2";
import axios from "axios";

const router = useRouter();
const login = async (event) => {
  event.preventDefault();
  const username = document.getElementById("username").value;
  const password = document.getElementById("password").value;

  if (username === "admin" && password === "123") {
    // Swal.fire({
    //   title: "ƒêƒÉng nh·∫≠p th√†nh c√¥ng",
    //   text: "Ch√†o m·ª´ng quay tr·ªü l·∫°i üëã!",
    //   icon: "success",
    //   timer: 1600,
    //   timerProgressBar: true,
    //   allowOutsideClick: false,
    //   showConfirmButton: false,
    router.push("/inventory/tong-quan");
    // }).then(() => {
    //   setTimeout(function () {
    //   }, 200);
    // });
  } else if (username === "" && password === "") {
    Swal.fire({
      title: "ƒêƒÉng nh·∫≠p th·∫•t b·∫°i!",
      text: "T√†i kho·∫£n v√† m·∫≠t kh·∫©u kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng!",
      icon: "error",
      timer: 1000,
      showConfirmButton: false,
    });
  } else {
    Swal.fire({
      title: "ƒêƒÉng nh·∫≠p th·∫•t b·∫°i!",
      text: "T√†i kho·∫£n ho·∫∑c m·∫≠t kh·∫©u kh√¥ng ƒë√∫ng!",
      icon: "error",
      timer: 1000,
      showConfirmButton: false,
    });
  }

  // b·ªè comment n·∫øu call api login
  // try {
  //   const response = await axios.post("API_LOGIN_ENDPOINT", {
  //     username: username,
  //     password: password,
  //   });

  //   if (response.data.success) {
  //     Swal.fire({
  //       title: "ƒêƒÉng nh·∫≠p th√†nh c√¥ng!",
  //       text: "Ch√†o m·ª´ng b·∫°n ƒë√£ ƒëƒÉng nh·∫≠p th√†nh c√¥ng!",
  //       icon: "success",
  //       timer: 2000,
  //       allowOutsideClick: false,
  //     }).then(() => {
  //       router.push("/inventory/tong-quan");
  //     });
  //   } else {
  //     Swal.fire({
  //       title: "ƒêƒÉng nh·∫≠p th·∫•t b·∫°i!",
  //       text: response.data.message || "T√†i kho·∫£n ho·∫∑c m·∫≠t kh·∫©u kh√¥ng ƒë√∫ng!",
  //       icon: "error",
  //       confirmButtonText: "OK",
  //     });
  //   }
  // } catch (error) {
  //   Swal.fire({
  //     title: "ƒêƒÉng nh·∫≠p th·∫•t b·∫°i!",
  //     text: error.response?.data?.message || "C√≥ l·ªói x·∫£y ra, vui l√≤ng th·ª≠ l·∫°i!",
  //     icon: "error",
  //     confirmButtonText: "OK",
  //   });
  // }
};
</script>

<style scoped>
.container-fluid {
  overflow: hidden;
}
.btn-login {
  border: 2px solid #16b674bf;
  font-weight: 500;
  font-size: 16px;
  font-weight: bold;
  border-radius: 8px;
  padding: 8px 12px;
  background-color: var(--primary-color);
  color: #171717 !important;
  outline: none;
  transition: all 0.2s;
  &:hover,
  &:focus,
  &:active {
    border: 2px solid #097c4f;
    background-color: var(--primary-color-hover) !important;
  }
}
input {
  font-size: 15px;
  border-radius: 8px;
  border: 2px solid var(--secondary-color);
  &:focus,
  &:active {
    box-shadow: none;
    border: 2px solid var(--primary-color);
  }
}
.forgot {
  color: #171717;
  text-decoration: none;
  &:hover {
    border-bottom: 1.5px solid #171717;
  }
}
</style>
